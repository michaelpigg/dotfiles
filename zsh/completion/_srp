#compdef srp sbp
function _sbt_projects {
if [[ -e sbt-project-list ]]; then
    compadd $(cat sbt-project-list)
else
    sbt -Dsbt.log.noformat=true projects | awk -F '\t' '/^\[info\].\t / {print substr($2, 4, length($2) - 3)}' - > sbt-project-list
    compadd $(cat sbt-project-list)
fi
}
function _srp {
  _arguments "*:task:_sbt_projects"
  return 0
}
_srp "$@"
